clear;
P2 =[ 0.2    0.8
    0.3    0.5
    0.1    0.5
    0.2    0.8
    0.5    0.5
    0.8    0.5
    0.65    0.8
    0.5    0.5];

P1 =[0.2604    0.7700
    0.2503    0.8132
    0.2329    0.8421
    0.1952    0.8670
    0.1556    0.8722
    0.1267    0.8486
    0.1132    0.8001
    0.1065    0.7398
    0.1045    0.6704
    0.1011    0.6075
    0.0978    0.5367
    0.0958    0.4502
    0.0958    0.4371
    0.0938    0.3676
    0.0951    0.2851
    0.0938    0.1553
    0.1045    0.0885
    0.1280    0.0701
    0.1583    0.0885
    0.1872    0.1042
    0.2174    0.1147
    0.2429    0.1304
    0.2725    0.1671
    0.2947    0.2025
    0.3216    0.2615
    0.3491    0.3414
    0.3679    0.4174
    0.3834    0.5079
    0.3854    0.5223
    0.4069    0.6075
    0.4210    0.6835
    0.4338    0.7569
    0.4459    0.8512
    0.4452    0.9089
    0.4425    0.8827
    0.4425    0.7805
    0.4412    0.6769
    0.4412    0.6075
    0.4365    0.4856
    0.4378    0.3886
    0.4378    0.3768
    0.4358    0.2890
    0.4345    0.2117
    0.4338    0.1370
    0.4278    0.1147
    0.3995    0.1042
    0.3518    0.1160
    0.3196    0.1606
    0.3256    0.2195
    0.3525    0.2457
    0.3726    0.2353
    0.4217    0.2248
    0.4513    0.2143
    0.4822    0.1972
    0.5131    0.1619
    0.5675    0.1474
    0.5884    0.1894
    0.6092    0.2969
    0.6139    0.4043
    0.6139    0.5288
    0.6132    0.6206
    0.6119    0.6782
    0.6106    0.7163
    0.6119    0.8329
    0.6119    0.8958
    0.5837    0.9155
    0.5366    0.9037
    0.5104    0.8237
    0.4976    0.7385
    0.5030    0.8145
    0.5205    0.8801
    0.5635    0.9246
    0.6415    0.9246
    0.6757    0.8984
    0.6952    0.8565
    0.7107    0.8054
    0.7188    0.7412
    0.7188    0.6769
    0.7026    0.6363
    0.6697    0.6284
    0.6240    0.6245
    0.6442    0.6101
    0.6636    0.5734
    0.6724    0.5341
    0.6798    0.4817
    0.6858    0.3938
    0.6845    0.3008
    0.6677    0.2444
    0.6428    0.2130
    0.6139    0.1972
    0.5736    0.1972];

P3 =[0.4    0.3
    0.3    0.6
    0.5    0.6
    0.4    0.3
    0.7    0.3
    0.8    0.6
    0.6    0.6
    0.7    0.3];

LP1 = length(P1);
LP2 = length(P2);
LP3 = length(P3);

X1 = P1(:,1);
Y1 = P1(:,2);
X2 = P2(:,1);
Y2 = P2(:,2);
X3 = P3(:,1)+0.6;
Y3 = P3(:,2)+0.1;

plot(X1,Y1); hold on
plot(X2,Y2); hold on
plot(X3,Y3); hold on
grid on
axis equal
pause(1)
hold off

%%%%%%2
n = 15;
Dn = (P3-P2)/(n-1);
plot(X2,Y2); hold on; pause(0.1)
hold off
for in = 2:n
    Pt=P2 +Dn*(in-1);
    Xt = Pt(:,1);
    Yt = Pt(:,2);
    plot(Xt,Yt,'k--'); pause(0.1)
axis ([-0.1 0.8 0 1])
end

%%%%%3
n = 150;
Point=0;
if Point
    P2(LP2+1:LP1,1) = P2(LP2,1);
    P2(LP2+1:LP1,2) = P2(LP2,2);
    Dn = (P1-P2)/(n-1);
    plot(X2,Y2); hold on
    hold off
else    
    P2=repmat(P2, ceil(LP1/LP2),1);
    P2=P2(1:LP1,:);
    Dn = (P1-P2)/(n-1);
    plot(X2,Y2); hold on
end    


for in=2:n
    Pt = P2+Dn*(in-1);
    Xt = Pt(:,1);
    Yt = Pt(:,2);
    plot(Xt, Yt,'r--'); pause(0.05)
    plot(Xt, Yt,'k--');
end
plot(Xt,Yt, 'r--', 'LineWidth',3);
hold off